<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="努力进行各种研究...">
    

    <!--Author-->
    
        <meta name="author" content="Dr.Fu">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="FH01号自律型科学实验舱"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="努力进行各种研究..." />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="FH01号自律型科学实验舱"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>FH01号自律型科学实验舱</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">FH01号自律型科学实验舱</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2017/04/25/Facebook出品的Android声明式开源新框架Litho文档翻译(一)/">
                Facebook出品的Android声明式开源新框架Litho文档翻译(一)
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2017-04-25</span>
            
            
            
                <span class="category">
                    <a href="/categories/Android知识/">Android知识</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>欢迎转载,转载请标明出处.</p>
<p>今天逛github发现facebook开源了一个新框架Litho,大概看了一下介绍,这是一个声明式UI框架,最初是用于为RecyclerView生成复杂的可滚动的UI而做的.<br>听起来很牛逼啊,网上搜了一下,暂时还没有中文的文档什么的,所以为了提升英语水平我也来边学边翻译吧,如果翻译有问题的地方,欢迎指出.</p>
<h1 id="介绍Lithos"><a href="#介绍Lithos" class="headerlink" title="介绍Lithos"></a>介绍Lithos</h1><h3 id="Litho是什么"><a href="#Litho是什么" class="headerlink" title="Litho是什么?"></a>Litho是什么?</h3><p>Litho是一个为在Android系统上高效的构建用户界面(UI)的声明式框架.它允许你通过使用一套基于Java注解的简单的API来编写最优化的Android views.这个框架主要是被设计用来实现在RecyclerView上构建复杂的可滚动的UI的.</p>
<p>通过Litho,你可以使用Litho的Components(组件)代替传统的Android Views来构建UI.一个Component本质上是一个带有不可变输入(我们称之为props)并且返回component hierachy(组件层级结构)来描述UI的方法.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@LayoutSpec</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloComponentSpec</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="meta">@OnCreateLayout</span></div><div class="line">  <span class="function"><span class="keyword">static</span> ComponentLayout <span class="title">onCreateLayout</span><span class="params">(</span></span></div><div class="line">      ComponentContext c,</div><div class="line">      @Prop String name) &#123;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> Text.create(c)</div><div class="line">        .text(<span class="string">"Hello, "</span> + name)</div><div class="line">        .textSizeRes(R.dimen.my_text_size)</div><div class="line">        .textColor(Color.BLACK)</div><div class="line">        .withLayout()</div><div class="line">        .paddingDip(ALL, <span class="number">10</span>)</div><div class="line">        .build();</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>你只需要简单的声明你想要展示的元素,然后Litho就会自动的渲染他们,并且以一种高效的方式——使用后台线程计算布局参数、自动扁平化层级结构、还有使用增量式挂载机制处理复杂的component。</p>
<p>我们的【教程】可以指导你一步一步的在你的APP里使用Litho，或者你也可以阅读【快速开始】来学习如何编写和使用Litho的Component。</p>
<h3 id="编写Litho的动机"><a href="#编写Litho的动机" class="headerlink" title="编写Litho的动机"></a>编写Litho的动机</h3><p>在Android上构建一个列表式界面相当的简单，虽然大多数app要更加复杂一点，但是大体上你只需要编写一个列表中Item的layout，然后再将其挂载到RecytclerView的adapter上去就完成了。</p>
<p>当你的adapter拥有许多类型的view的时候，你就不得不去考虑一种更健壮的方法来回收view。如果你有很多很多种类型的view时，每次一个新的类型的view被显示的时候，RecyclerView都会不断的inflate新的view，这很可能导致滚动时帧数的下降。</p>
<p>你可以通过回收和重复利用,在多个item之前共享一些view实例,来达到减少view的类型的目的,但是随着你添加了更多的逻辑到你的产品中去,bug往往会越来越容易发生.</p>
<p>如果列表的item比较复杂,你很可能会优化你的layouts.对于简单的情况,你可以直接使用Android库里的layout来避免许多的”坑”,但是情况往往比较复杂.在这种情况下,一个通用的做法是特别为你的需求定制特殊的Custom view(客制化view).使用Custom view可以有效的提升UI的效率,但是由于它们会增添项目的复杂度并且维护成本也很高,所以会拖慢项目进度.</p>
<p>你也可以通过分解一个复杂的item为多个小的item,来把滚动时计算布局和绘制每一帧的花费的时间分解开来,从而优化RecyclerView的item.这种方法在一些情况下效果不错,但是它通常会导致adapter中view类型的爆炸式增长,并且有可能仍然需要花费代价去创建Custom Views,这就依然导致了我们上面所讲到的问题.</p>
<p>Litho主要工作就是把优化RecyclerView的复杂工作打包起来.在使用Litho时,没有view类型的区别,你可以在后台线程中提前、无缝的构建你的UI,并且自动地把他们渲染成更加扁平化的层级结构。这些梦幻的特性，你都可以免费的通过一套非常简单的编程模式来获得。</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>Litho的首要使用场景为:具有复杂内容的RecyclerView.因为它甚至在具有复杂的item和多种类型的内容RecyclerView上也表现出了极好的滚动特性.这在使用传统的android view的情况下是非常具有挑战性的工作.</p>
<p>你也可以因为Litho简单的声明式的API来选择采用Litho来构建UI,Litho的基于单向数据流函数式编程模型会在你的产品变得复杂的时候也很容易理解.</p>
<p>高动态化的UI动画和复杂手势现在还很难用Litho实现,新的针对layout专场和手势的API将会很快推出.</p>
<h1 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h1><h3 id="代码生成器"><a href="#代码生成器" class="headerlink" title="代码生成器"></a>代码生成器</h3><p>正如在【编写Conponent】中写道的，Litho依赖代码生成器来从ComponentSpec生成Component.这个过程需要用到一个不可变的java对象——SpecModel，作为中间件。</p>
<p>代码生成过程分为三个步骤：</p>
<ul>
<li>从ComponentSpec中生成一个SpecModel。</li>
<li>验证SpecModel的合法性</li>
<li>从SpecModel中生成Component。</li>
</ul>
<h2 id="创建SpecModel"><a href="#创建SpecModel" class="headerlink" title="创建SpecModel"></a>创建SpecModel</h2><p>SpecModel是在编译时，由注解处理器(一个扫描和处理注解的javac工具)生成的.Litho的注解处理器将会扫描你的ComponentSpec中的方法,变量和注释,为每一个ComponentSpec创建SpecModel.<br>未来,我们将会支持使用其他方法创建SpecModel.举个例子:我们考虑支持直接在Android Studio/Intellij中创建SpecModel,这样可以允许我们不用build源码就可以生成Component.</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2017/03/01/为你的Github生成漂亮的徽章和进度条/">
                为你的Github README生成漂亮的徽章和进度条
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2017-03-01</span>
            
            
            
                <span class="category">
                    <a href="/categories/其他知识/">其他知识</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="github上常见的徽章标签和进度条"><a href="#github上常见的徽章标签和进度条" class="headerlink" title="github上常见的徽章标签和进度条"></a>github上常见的徽章标签和进度条</h3><p>平时在上github的时候看到别人写的精美的README,我总是感到非常的羡慕.近来我也开始使用markdown写博客,看到之前有一些项目的README的开始部分总是会有例如<br><img src="https://img.shields.io/github/release/qubyte/rubidium.svg" alt=""></p>
<p><img src="https://img.shields.io/circleci/project/github/RedSparr0w/node-csgo-parser.svg" alt=""></p>
<p>这样的徽章样式的标签.</p>
<p>甚至还有些文章会有<br><img src="http://progressed.io/bar/28?title=progress" alt=""></p>
<p><img src="http://progressed.io/bar/91?title=done" alt=""><br>这样的进度条,简直炫酷.这是怎么做到的呢?</p>
<h3 id="已有的标签小程序"><a href="#已有的标签小程序" class="headerlink" title="已有的标签小程序"></a>已有的标签小程序</h3><p>网上搜了一下,用<a href="http://shields.io/" target="_blank" rel="external">shields.io</a>就可以解决!<br>但是这个网站怎么用?貌似写的不太清楚,网上也没有详细一点的介绍微博,只能自己试验了一下.</p>
<p>我的理解这个网站提供了一批”标签小程序”,他们的作用是抓取一些动态的数据并自动生成标签图片.<br>比如抓取github上项目的最新的release版本号生成release标签,抓取twitter的账号关注人数生成关注标签等等.<br>使用这种标签能够保证每次刷新网页都会重新抓取数据,并且重新更新标签上的文字.这样就实现了动态变化的徽章标签.</p>
<p>举例来说:<br><img src="/image/20170301152451.png" alt=""></p>
<p>这一行的小程序功能就是用来展示某一个github项目最新的release版本号.</p>
<p>点开你可以看到如下界面</p>
<p><img src="/image/20170301152527.png" alt=""></p>
<p>Image这一行就是小程序的URL,前面的<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://img.shields.io/github/release/</div></pre></td></tr></table></figure></p>
<p>是小程序的位置,后面需要填写要获取的github用户名和项目名.svg,例如著名的tinker项目</p>
<p><img src="/image/20170301153213.png" alt=""></p>
<p>它的用户名是Tencent,项目名是tinker,所以我们把上面的小程序的URL补全成<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">https://img.shields.io/github/release/Tencent/tinker.svg</div></pre></td></tr></table></figure></p>
<p>这样一个小勋章就做好了,我们可以把上面的URL粘贴到浏览器地址栏试一下<br><img src="https://img.shields.io/github/release/Tencent/tinker.svg" alt=""><br>是不是很炫酷?<br>再上<a href="https://github.com/Tencent/tinker/releases" target="_blank" rel="external">tinker-release</a>的github上看一下,果然显示的版本号就是tinker最新的版本号.</p>
<p>等等,这就生成好了?那上面的小程序界面其他的部分是做什么的呢?<br>其实小程序只是为我们提供了一个便捷生成markdown图片链接的方式:<br>Link后面可以填写我们希望点击徽章跳转到的URL,注意这个地址跟徽章上显示什么毫无关系.能够影响徽章上的文字的只有Image后面的URL.</p>
<p>填写了Link后,下方的Markdown后就会自动生成对应的markdown语法生成的徽章图片链接.如果我们在写github的README,就可以直接复制Markdown后面的文字,粘贴到README里面,是不是很方便.</p>
<p>最下方的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Documentation</div><div class="line"></div><div class="line">If your GitHub badge errors, it might be because you hit GitHub&apos;s rate limits.</div><div class="line">You can increase Shields.io&apos;s rate limit by going to this page to add Shields as a GitHub application on your GitHub account.</div></pre></td></tr></table></figure></p>
<p>的意思是如果小程序无法自动获得版本号,可能是由于github对小程序有限制,想要减少这种限制可以点击going to this page 去授权Shields访问github.</p>
<h3 id="生成自定义徽章标签"><a href="#生成自定义徽章标签" class="headerlink" title="生成自定义徽章标签"></a>生成自定义徽章标签</h3><p>那么,如果我们想要生成的徽章字样和颜色<a href="http://shields.io/" target="_blank" rel="external">shields.io</a>上面没有怎么办?<br>例如我们想生成一个<br><img src="https://img.shields.io/badge/Hey!-Bro~-red.svg" alt=""><br>的徽章我们应该怎么做呢?</p>
<p>把shields的网站拉到最后,可以看见</p>
<p><img src="/image/20170301160933.png" alt=""></p>
<p>对,就是这里!像我这样填,再点击Make Badge按钮就可以生成我们想要的任何徽章了!<br>color的颜色如果不知道怎么填,可以点击输入框会有下拉项提供选择哦</p>
<h3 id="生成进度条标签"><a href="#生成进度条标签" class="headerlink" title="生成进度条标签"></a>生成进度条标签</h3><p>最后,我们想生成进度条怎么办?</p>
<p>使用<a href="https://github.com/fehmicansaglam/progressed.io" target="_blank" rel="external">progressed.io</a>很简单就能生成!</p>
<p>如图</p>
<p><img src="/image/20170301161732.png" alt=""></p>
<p>只要把URL中的数字换成自己想要的,就可以生成各种样式和颜色的进度条了.</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li>如果我们在写markdown的时候想为我们的徽章或者进度条添加点击跳转的超链接,可以使用超链接和图片的语法嵌套来写,具体可以参照markdown标准语法.</li>
</ul>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[<span class="string">![</span>](<span class="link">徽章/进度条URL</span>)](<span class="link">点击超链接</span>)</div></pre></td></tr></table></figure>
<ul>
<li>自定义徽章和进度条由于参数是写死的,不会根据网络的数据自动变化上面的文字,所以,这些标签是静态的,修改的时候需要我们手动更改URL.</li>
</ul>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2017/02/28/一个好用的Android比例自动适配的库/">
                一个好用的Android比例自动适配的库
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2017-02-28</span>
            
            
            
                <span class="category">
                    <a href="/categories/Android知识/">Android知识</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>今天刷github的时候发现一个鸿神写的很牛逼的适配库——AndroidAutoLayout.<br>刚好公司需要适配不同大小的屏幕,就简单试用了一下,感觉不错.集成简单,支持的控件广泛,使用灵活,虽然已经是15年写的了,但是现在用起来也没有发现什么冲突和崩溃.所以写到博客上推荐给大家.</p>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>这个库实现的最方便的功能是:我们拿到UI部门给出的以px为单位标注的设计图后,直接照抄上面的px尺寸就能写出一套适配于所有分辨率的xml layout.不仅免去了对着设计图把px转成dp的麻烦,而且也不用为不同的屏幕编写多套layout.很有一套UI打遍天下的感觉.<br>而且使用这个库理论上完全可以使用一个FrameLayout,里面的view使用margin定位,不用嵌套就能完成UI,对UI效率也有很大提升.</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>简单学习了一下源码,这个库的核心思想是,事先按照设计图设定好设计图的宽高(design_width/design_height),然后把设计图上所有控件的px尺寸按原单位px填入xml文件中,最终这个库会根据设计图总体尺寸和控件尺寸,算出控件在设计图上占的宽高比,再根据实际屏幕大小动态放大或缩小控件以保证控件在实际屏幕上占的比例和在设计图上占的比例一致.</p>
<p>这种按比例缩放的方法不仅可以用在控件本身的大小上,也可以同理应用到控件的margin/padding/textSize等跟大小相关的属性上,统一缩放以后,在不同的屏幕上显示的效果就都跟设计图上一致了.</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>1.首先添加库引用.</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">dependencies</span> &#123;</div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.zhy:autolayout:1.4.5'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2.在项目的AndroidManifest中注明设计稿的尺寸。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">"design_width"</span> <span class="attr">android:value</span>=<span class="string">"768"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">meta-data</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta-data</span> <span class="attr">android:name</span>=<span class="string">"design_height"</span> <span class="attr">android:value</span>=<span class="string">"1280"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">meta-data</span>&gt;</span></div></pre></td></tr></table></figure>
<p>3.界面的改动.</p>
<ul>
<li>Activity界面的用法</li>
</ul>
<p>让Activity继承AutoLayoutActivity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AutoLayoutActivity</span> </span>&#123;</div><div class="line"></div><div class="line">.......</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Fragment界面的用法</li>
</ul>
<p>在onCreateView生成返回生成的view之前使用AutoUtils重新计算view的大小(一定要在对view的全部处理完成后再调整大小).</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Nullable</span></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">	View view = inflater.inflate(.......);</div><div class="line">	.........</div><div class="line">	.........</div><div class="line">	AutoUtils.autoSize(view);</div><div class="line">	<span class="keyword">return</span> view;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>动态生成的view的用法</li>
</ul>
<p>以上两种都是对xml中写好的静态的layout进行大小适配的用法.如果需要动态生成view,比如生成页码按钮,添加到页码容器中,需要在生成结束后,添加到容器之前调用AutoUtils进行大小调整.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//动态生成pageBtn,并且动态设置宽高间隔等</span></div><div class="line">TextView pageBtn = <span class="keyword">new</span> TextView(getApplicationContext());</div><div class="line">pageBtn.setPadding(<span class="number">10</span> , <span class="number">20</span> , <span class="number">30</span> , <span class="number">40</span>);</div><div class="line">pageBtn.setTextSize(<span class="number">25</span>);</div><div class="line">LinearLayout.LayoutParams layoutParams = <span class="keyword">new</span> LinearLayout.LayoutParams(<span class="number">40</span> , <span class="number">40</span>);</div><div class="line">layoutParams.setMargins(<span class="number">10</span> , <span class="number">20</span> , <span class="number">30</span> , <span class="number">40</span>);</div><div class="line"></div><div class="line"><span class="comment">//在全部生成完毕后,添加至容器之前调整大小.</span></div><div class="line">AutoUtils.autoSize(pageBtn);</div><div class="line"></div><div class="line">pageBtnContainer.addView(pageBtn , layoutParams);</div></pre></td></tr></table></figure>
<p>做完之后,记得把dp换成px,大小换成跟设计图上标注的一样的px值.<br>集成完毕,适配完成,就这么简单~</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>感谢张鸿阳大神提供这么好用的库.</p>
<p><a href="https://github.com/hongyangAndroid/AndroidAutoLayout" target="_blank" rel="external">AndroidAutoLayout的github</a><br><a href="http://blog.csdn.net/lmj623565791/article/details/49990941" target="_blank" rel="external">鸿神写的AutoLayout的介绍文章</a><br><a href="https://github.com/hongyangAndroid/AndroidAutoLayout/blob/master/README.md" target="_blank" rel="external">AndroidAutoLayout的项目介绍</a></p>
<p>以上介绍中还附上了许多进阶用法,学习中…</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2017/02/23/如何使用gitHub和Hexo搭建个人博客/">
                如何使用github和Hexo搭建个人博客
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2017-02-23</span>
            
            
            
                <span class="category">
                    <a href="/categories/Web前端知识/">Web前端知识</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="为什么要写个人博客"><a href="#为什么要写个人博客" class="headerlink" title="为什么要写个人博客?"></a>为什么要写个人博客?</h2><p>这一阵子是项目间隙,略闲,之前的项目中学到了很多东西,一直没有时间整理沉淀,现在终于有时间了,列了个计划打算把各种遇到问题和解决经验沉淀到文字里,方便自己今后查看,同时也可以分享给别人,利人利己.</p>
<p>之前工作之余有些零碎经验都是写到网易云笔记之类的笔记应用里,这样虽然比较方便,但是不分享的话别人就不能看,不如博客这种形式,谁都可以搜到,更加便于传播.而且作为一个码农,拥有一个高大上的技术博客,也是一件高逼格的事不是吗 ^_^</p>
<h2 id="为什么要自己搭建博客系统"><a href="#为什么要自己搭建博客系统" class="headerlink" title="为什么要自己搭建博客系统?"></a>为什么要自己搭建博客系统?</h2><p>想要写一个技术博客,有很多种途径,比较快速简单的方法是找一个像CSDN blog这样的博客平台,申请一个账号直接就可以写,但是总觉得作为程序员,这样还不够酷.那么为什么尝试不自己搭建一个博客试试呢?既可以满足写博客的需求,也可以在搭建的过程中学习web相关的知识,一举两得.而且自己搭建博客可以不用被博客平台的框架束缚,博客的可定制性更强,我们想加什么就可以加什么,那不是更爽?</p>
<p>所以,我果断放弃了博客平台,自己搭架子!开干!</p>
<h2 id="大体上需要做什么工作"><a href="#大体上需要做什么工作" class="headerlink" title="大体上需要做什么工作?"></a>大体上需要做什么工作?</h2><p>博主毕业以后一直是从事Android App的开发,对web前端的工作接触的比较少,除了计算机和网络的基础知识,几乎是0基础.在查了很多资料以后,大致了解到搭建博客系统主要需要解决两个问题.</p>
<ol>
<li>怎样便捷的把我们文章中的文字编码成网页文件,并且组织分类建立一个博客网站?</li>
<li>我们的博客网页文件放在什么地方?</li>
</ol>
<h3 id="博客框架介绍"><a href="#博客框架介绍" class="headerlink" title="博客框架介绍"></a>博客框架介绍</h3><p>以博主的web开发能力,每篇文章都自己写网页是不现实的,而即使是web开发大神,也不会所有网页都自己写,因为太麻烦太繁琐了.<br>那么有没有什么自动化的整理排版网页生成工具可以用呢?当然有!我们需要利用博客框架来自动生成网页文件.</p>
<p>博客框架是指一个自动化的程序,我们只需要以框架要求的语法(如markdown)提供我们博客文章的材料,它就会自动帮我们排版文字,转换成网页文件,生成网页层级组织,生成网站首页,一切都是全自动的,我们只需要关心我们文章的内容就够了.自动化万岁!</p>
<p>而博客框架一般分为<strong>动态页面框架</strong>和<strong>静态页面框架</strong>两种.</p>
<h4 id="动态框架"><a href="#动态框架" class="headerlink" title="动态框架"></a>动态框架</h4><p>动态页面框架是指用户在访问我们的网站的时候,所有的网页都是在访问的时候动态生成的,平时没有,访问的时候现场生成,这种框架的好处是搭建简单,现用现做,支持评论互动,功能比较强大.但是需要服务器支持php和数据库.这一类的框架比较著名的是WordPress.<br>由于这类框架要求服务器有数据库和php支持,本篇文章暂时不讨论,我会在今后的文章中写一写如何使用vps+wordpress搭建个人博客.</p>
<h4 id="静态框架"><a href="#静态框架" class="headerlink" title="静态框架"></a>静态框架</h4><p>这一类的框架是指我们每次在写完文章后启动框架为我们生成一套网页文件，这套文件部署在服务器上供别人访问，其中的内容是不会变动的，直到我们下次修改或写新的文章后再生成一套新的文件部署到服务器后，网站的内容才会改变．网站上的内容是静态的，因此成为静态博客框架．这类框架比较有名的就是今天要介绍的Hexo.<br>这类框架的好处是对服务器要求简单,不需要php和数据库支持.但是比如文章评论等动态改变网页内容的功能,在这种框架中生成的网页中就无法实现了(事实上,如果一定要使用评论功能,可以使用Disque之类的第三方服务集成到Hexo生成的网站中来实现评论,原理还是利用第三方的服务商的数据库和服务器来存放评论数据,本文就不多介绍了).</p>
<h3 id="网页存放空间介绍"><a href="#网页存放空间介绍" class="headerlink" title="网页存放空间介绍"></a>网页存放空间介绍</h3><p>我们的网页生成了以后,我们还要找地方去存放它们,这时候我们就有了很多选择.</p>
<h4 id="购买VPS"><a href="#购买VPS" class="headerlink" title="购买VPS"></a>购买VPS</h4><p>VPS是虚拟服务器的简写,相当于一台完整的计算机,可以安装软件,存放数据,下载上传,但是它不在我们面前,而是在VPS服务商的机房里,我们只能通过远程去操作这台计算机.<br>由于VPS就相当于一台完整的计算机,所以我们在上面的可操作性比较大,我们可以安装服务器程序用来提供网页下载服务,安装php提供后端处理能力,安装mysql提供数据库服务.非常灵活.因此VPS可以同时支持动态博客框架和静态博客框架.</p>
<h4 id="使用Github-pages"><a href="#使用Github-pages" class="headerlink" title="使用Github pages"></a>使用Github pages</h4><p>GitHub Pages是GitHub提供的一项免费服务.每个GitHub账号可以申请一个pages仓库用来存放网页文件.而GitHub在已经安装好了服务器程序以便于浏览器访问这些网页.由于GitHub Pages不支持php和数据库,因此只能在上面部署静态博客框架.</p>
<h2 id="为什么选择GitHub-pages-Hexo"><a href="#为什么选择GitHub-pages-Hexo" class="headerlink" title="为什么选择GitHub pages + Hexo?"></a>为什么选择GitHub pages + Hexo?</h2><p>看起来GitHub pages比起VPS限制很多,但是Github pages有一个巨大的优势——免费!没错,它是免费的!<br>一般国外的VPS像Vurtl、Linode这样的便宜的也要35-40/月,稍微靠谱点的就100+/月了,国内的就更贵,带宽流量限制不说,最便宜的也得60+大洋,这个成本对于个人博客来说太高了.而使用GitHub page,可以免费获得每个账号300M的网页存放空间.对于个人来说足够了,而且GitHub也是程序员牛人聚集的地方,很多大牛也是用GitHub pages搭建自己的博客,因此这也是一件很有逼格的事!<br>对于博客框架,动态框架由于需要数据库和php支持,因此就不能使用了,但是静态框架还是可以用的.而Hexo也是现在使用比较广的,也比较简单部署的静态框架.所以我们选择GitHub pages + Hexo来部署我们的博客.</p>
<p>那么,既然方案确定了,那就剩实施了,我们一步一步来完成:</p>
<h2 id="如何获得github-page网页空间"><a href="#如何获得github-page网页空间" class="headerlink" title="如何获得github page网页空间?"></a>如何获得github page网页空间?</h2><p>使用github我们当然需要先安装git,如果你没有用过git,请先学习一下<a href="http://www.cnblogs.com/tugenhua0707/p/4050072.html" target="_blank" rel="external">Git使用教程</a>.<br>获得github page空间非常简单.首先,你得有一个女朋…啊不对,是github账号,如果你已经有了,那非常好!如果没有,快去<a href="https://github.com/join?source=header-home" target="_blank" rel="external">注册一个</a>,这个网站对程序员非常有用,真的!</p>
<p>有了github账号之后我们需要按照特定的规则申请github page的数据仓库(repository).</p>
<p>第一步我们点击sign in登录github.<br><img src="/image/20170223175427.png" alt=""></p>
<p>第二步我们点击New repository建立一个新的仓库<br><img src="/image/20170223174812.png" alt=""></p>
<p>第三步在仓库名称里面输入<strong>我们的用户名.github.io</strong>.<br>注意!必须是这个名字,其他的名字不行!<br>比如我们的用户名是aaa,我们的仓库名就必须是aaa.github.io<br><img src="/image/20170223175801.png" alt=""></p>
<p>第四步选择public,并且点击create repository建立仓库</p>
<p>建立好之后我们就已经有了自己的网页存放空间啦!对!就这么简单!今后通过<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://我们的用户名.github.io</div></pre></td></tr></table></figure></p>
<p>就能访问我们的博客啦.</p>
<p>今后我们部署网页的时候只要先clone我们的仓库,然后修改其中的内容(例如添加网页删除网页等),最后commit + push到github上就可以了.当然,这也很麻烦,所以Hexo为我们提供了一键生成+发布的功能,今后连commit+push也可以省去啦,这个我们后面会说.</p>
<h2 id="如何部署Hexo框架"><a href="#如何部署Hexo框架" class="headerlink" title="如何部署Hexo框架?"></a>如何部署Hexo框架?</h2><p>Hexo需要部署在我们自己的计算机上,由于Hexo是基于Nodejs编写的,所以我们首先需要安装Nodejs</p>
<p>在<a href="https://nodejs.org/en/" target="_blank" rel="external">Nodejs官网</a>上下载并安装Nodejs.</p>
<p>安装完毕后在我们的电脑里建立一个新的文件夹来存放我们的博客工程文件,例如D:/blog</p>
<p>在文件夹里右键选择git bash 打开命令行</p>
<p>使用npm安装Hexo</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -g hexo-cli</div></pre></td></tr></table></figure>
<p>-g参数是要求全局安装,这样我们以后就可以直接在命令行里使用hexo命令了.<br>由于npm安装在国内速度简直是龟速,在使用npm install安装的时候建议使用vpn代理加快安装.</p>
<p>由于我们要提交到github上,我们还需要安装hexo git提交插件.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<p>下面初始化博客工程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo init &lt;folder&gt;</div><div class="line"><span class="built_in">cd</span> &lt;folder&gt;</div><div class="line">npm install</div></pre></td></tr></table></figure>
<p>上面的folder为博客的工程名,我们可以自己起,例如testBlog</p>
<p>完毕以后我们可以进入我们之前初始化好的文件夹,例如D:/blog/testBlog中,修改_config.yml文件来调整hexo的设置.</p>
<blockquote>
<p>title: 这里填写博客的标题<br>subtitle: 这里填写博客的副标题<br>description: 这里填写博客的描述<br>author: 这里填写博客的作者<br>language: 这里填写博客的语言,如果是中文填写”zh”<br>url: 这里填写我们之前申请的博客网页存放空间的网址,例如我们的github用户名为”aaa”,这里就填写”<a href="http://aaa.github.io" target="_blank" rel="external">http://aaa.github.io</a>“<br>deploy:<br>type: 这里填写”git”<br>repo: 这里填写我们之前申请的git仓库的地址,例如我们的用户名为”aaa”,则此处填写”git@github.com:aaa/aaa.github.io.git”</p>
</blockquote>
<p>暂时就填写这么多就够了,其他的部分暂时先不做修改,保存,退出.<br>如果需要了解更多hexo的配置或者想要做更高级的定制,可以查看<a href="https://hexo.io/docs/configuration.html" target="_blank" rel="external">官方配置说明</a></p>
<p>此时我们的Hexo基本已经假设好了,现在生成一下我们的博客看看效果.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo g -d</div></pre></td></tr></table></figure>
<p>这个命令的意思是使用hexo生成整个博客的网页文件,并且上传到我们刚才repo里面填写的git仓库里.hexo会自动检索我们博客文章的改动,删除,增加,并生成一套新的网页.<br>等待命令执行完毕.</p>
<p>好了,现在我们访问我们的博客试一下,打开浏览器输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://你的github用户名.github.io</div></pre></td></tr></table></figure></p>
<p>然后回车.<br><img src="/image/20170224160822.png" alt=""><br>哈哈!博客架好了!这就是我们博客的主页,并且Hexo还为我们自动生成了一篇示例文章Hello World.</p>
<h2 id="如何写文章"><a href="#如何写文章" class="headerlink" title="如何写文章?"></a>如何写文章?</h2><p>博客架好了,可是我们怎么写文章呢?<br>也很简单,回到我们刚才的git bash命令行模式,进入我们的博客文件夹.使用new命令建立一篇新的文章,.以D:\blog\testBlog\为例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /d/blog/testBlog</div><div class="line">hexo new goodDay</div></pre></td></tr></table></figure></p>
<p>这样我们就建立了一篇名叫goodDay的新文章.</p>
<p>此时,我们打开资源管理器,进入 D:\blog\testBlog\source\_posts.<br>我们会发现自动生成了一个goodDay.md文件.我们就需要在这里进行文章的写作.<br>从文件的后缀名.md可以看出,这是一个markdown文件,我们需要使用markdown的语法编写,这非常容易,通过不多的文字即可实现文章\标题\正文\代码\图片的排版,而且非常美观,如果你不了解markdown的语法,可以查看<a href="http://sspai.com/25137/" target="_blank" rel="external">markdown入门</a><br>虽然使用系统的记事本就能编辑.mk文件,但是还是强烈建议使用专业的markdown编辑软件,例如<a href="http://markdownpad.com" target="_blank" rel="external">MarkdownPad</a>,来编辑,可以方便的实现边编辑边预览,非常方便.<br>文件夹中还有一个hello-world.md,这就是我们刚才在网站上看到的示例文章.我们也可以参考其中的语法进行我们自己文章的写作.如果我们要这边示例文章了,可以直接删除hello-world.md文件即可,在下次使用hexo生成博客网页后,这边示例文章就会从我们的博客中被删除.</p>
<p>打开goodDay.md,我们可以看到如下的内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: xxx</div><div class="line">date: xxx</div><div class="line">---</div></pre></td></tr></table></figure></p>
<p>这些以—开始和结尾的内容叫做Front-Matter,负责设置本篇文章的一些属性,此部分的内容不会显示在文章正文中,我们简单的修改一下,文章的标题我们设为”好天气”,文章写作时间我们设为2017-02-24 15:00,我们再给文章加两个tag:t1和t2,再加一个分类:”前端知识”,方便以后管理.<br>goodDay.md修改如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: 好天气</div><div class="line">date: 2017-02-24 15:00</div><div class="line">tags: [t1,t2]</div><div class="line">categories: 前端知识</div><div class="line">---</div></pre></td></tr></table></figure></p>
<p>在—下方我们可以编辑我们文章的正文了,我们简单写两句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: 好天气</div><div class="line">date: 2017-02-24 15:00</div><div class="line">tags: [t1,t2]</div><div class="line">categories: 前端知识</div><div class="line">---</div><div class="line"></div><div class="line">## 好天气啊</div><div class="line">### What a Good Day!</div><div class="line">真是适合春游的好天气</div></pre></td></tr></table></figure></p>
<p>保存,退出.好了我们的文章写完了,可以生成网页并且发布了,还记得命令吗?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo g -d</div></pre></td></tr></table></figure></p>
<p>这样我们的一遍文章就已经写好并发布了,去我们的博客上查看一下吧~(^o^)/~<br><img src="/image/20170224163724.png" alt=""></p>
<p>好了.到这里,我们已经成功的搭建起了一个自己的技术博客,今后我们需要写文章的时候只需要按照之前写的方式新建.md文件,修改,使用hexo生成网页并发布即可.</p>
<p>由于博主也是才开始玩这一套框架,自己也有很多还没有摸透的地方,今后在使用中如果还有什么进阶的玩法,我会再开一篇文章写出来.</p>
<p>感谢各位能看到这里.希望大家都能玩的开心.</p>

        </div>
    

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    欢迎访问我的博客,本博客使用github page和Hexo搭建,技术小白自我进化中,很乐意讨论技术问题,欢迎给我发邮件~~
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2017/04/25/Facebook出品的Android声明式开源新框架Litho文档翻译(一)/">Facebook出品的Android声明式开源新框</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/03/01/为你的Github生成漂亮的徽章和进度条/">为你的Github README生成漂亮的徽章和进</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/02/28/一个好用的Android比例自动适配的库/">一个好用的Android比例自动适配的库</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/02/23/如何使用gitHub和Hexo搭建个人博客/">如何使用github和Hexo搭建个人博客</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/Web前端知识/">Web前端知识</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/其他知识/">其他知识</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Android知识/">Android知识</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/ShikiEiki">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:515073770@qq.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>